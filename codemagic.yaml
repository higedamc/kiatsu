# Automatically generated on 2022-01-21 UTC from https://codemagic.io/app/609f571800a2d305209fe46d/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        ENV: Encrypted(Z0FBQUFBQmg2bU83V0tnYzNWZEhVcTdLMGNNaGpCdGhSem9VTGJfYU1JcXJRUF9MWXZQQnFXNk1pTFU0WTZIcXlhMmZ1S3BMcXJ2VHNtUC1KdVdVUVlNX3pONXBINFZ5aHpUWHV5eXNhWjF4aXQ1NmdpRTNSUU9NTURCZkpHVWExV2hWanZiRGdBTzNFTk1rMlNPZ2dLWXhLazN0STBhZ1pXWWNLM2VVUTJTSm1ENXlaM194eV9SVmxWSzNrUjJSWjV5LXBpS2M2WWd3VHdmYXhqWldOLWVSNHQ3TnJIcXB1VmdiQWkzNm9FQTAwOWNTZExlZEU2cGZXdnhWUEJkSnV1cE9qY2tWWlBZSnpVTVlsbjJzaFBaN2g4Z3lRTDVVakRPc3p6bnhpczRQd2I4bDVkOWFfSkJpZldRMjlxU2ppd2tuLXBsS1oyRkJobUwzT2U1QkFVeG9mQlVySF84eTB4bTlYc2hYS3hyV003Q0Zwb3NVNUw4NGhIdjdHNS12ZzVHVm1QLUxHMzRVMjNIRHVBaFZBRUw5MXRsOWFxZVlvUk9BYWtGYUdqTjNDOUx1U0VXSHh5MnJfYjdpYTBTSF9LUHY0WTl4LVpvVm16dlNuSmhpbkRQQTdPbVhTajhNSjJUUmRja3hSNDlIOTREeFc2S2FLTGxGd1hyeWtiX1hZOTdEbml5WFNvUi1JRGVIeS0wTGxKSmt0VWhHZVdOMFRmbS1EMTR1OC1zS2NlZk9KTlo0QV9naFFzV2NHSDlkUFdYdjd6WUNwemkzNnVyUmN4X2hGR0VhRWdKZ0MtZ1p5X0J5MXpFTzZQOE00WXdpc0ExYWlBOTRhNW9LM2k3MXhHQ19ucS0taGhJVjVBdm81a3htMGtpRGFYUUdpY0hTcDktc0NUWjE1SGxnblU2QkpWQlBmNU5hZXJCSldfcG9lUF9oQXBqMXd4eTlCMmNwWFJqV1pCOUluZE95OHM0WGF0QTRGVHh0dW1Fd2l4a21yOWN4Q0JPN3dGUkVQYlFqRE5JYXJDSjc5N3R6NVNPdzNlM3FVMjZOclVqRmZsbDdORDVSOUR0RENNTXNEZXgtRWFrUjlYZXpCNXVudVdjbVg2aC1GYTA1M3BQWXhWalZJbW1oN28zak9nVTV1RUdTTzdidE1mS21nMUlfWlVEc01YVENrVUM3YWlXWXpQUzJuOWh3R2JzelE4SENBMnZldlR6SkNoZUltWnlLaVNaZ1JwNF9RTUV6Q0xvS0psNS1aUmxEZnlOQkpPLW1jMzVoNXRCdW11VDVvYXpqMEhicmdZdUtScVZKMW53UVpkdy00UkUxQWtoamR3LUZVUG5Bc3dSMUgwTE9laDJXbzFCSnZaVVFmdGxzY2FpRW5LQXkxVHdHZlFGUGUwNkRuZUlGbC10QmNrQnBpamlidkN6R2RqcU03Ym5wVnFncUFqS0tZV1BpaEVCQzY5NXZ0WC1NODRhMnFVblV4RnFSZXlXd1BWZmxZV2t2WW1HdG5qV1JEWjIzQ1hNdXNjUmRpbWI0Z1pUZUZpcVhEcUR0ODNuUHpkNE9ZZjk3RHdiYUZHZXRmRTNUcFZnYXVyR2ZrSHNKeWw3NzFoRTdfMWUtSTFyemRXNW1haGpDOVYwVGd5bDhZSmhVUGVfbWhQM0E5TXh3VHpBbVhfc0JhNnNSWk1HYXF3MTRCNVFkTXRFM29CcnNNLUlneEhpMUs3eWhfWnhTYmtobWcwSmtWeHBGOEYwbUp3b3ZMMjlVVDhaYXAwTC00Um5WSHNBWVlVZWxZOWwxS0M5Y0tIeW5QOExwQXk0NjQ4U0dodWF4cnNBbmk5VTJqTDVraTJadHJGbnpyY240ZEZXNzVQeFdBOFpXTER6RFQ2a3ZIRHNLMVIzVkc2QjdQWVhSbWVZd1RXb1pMOTgxREtnZVBUUERCeUozSHhxeGFLZUxNbTkwNEdTeGVheUROUjRia0ZkRHFUMm9aU01mdUlPLVpvRk9xRDZ0TTRndi1fbHlWY0t2UzQ2OU16dExvcUdoUFVfRnV1MWVzakRTdWxKdzR2Nm5YbkNhVEx6My1TaFotbXBBQzZ1SVFVb1NEc291T19xUU9qU1htVlFQWmp2d2ptUlUwbktOT0ppbDdIRmk2NkdFQndEUE16U2hWMXVzaVhGZ3BTc0Rpbl9IeWljYWtVM0JfcTVPS1k5d0Ftc3Y4bGxQU2d0SXFwZVhqUDlXTHBXZDVzcnN0UTZod050Z3A5RGtEMGo4dWtUcDNkU1doejZjNy1iT2otaHpOQjBBOXFINTk3SjZWVlNSdDF4bXlNRklYTjJ1OUh5amYtOS1JSnVIajEya3BCa0F5QnJoM1YwZ0pMNkhuQU02a3FBbkVPek54Y1hKX3RQZmx3MjdxMXBBbGhvV3B0Vk9GaE5KLUQwbXFoc2hLZzBrNEhIOC1IUnJLUkZ2QjZtLTh4VlZYbHZDeFpMRDgtdUhvZWlIdEZYWUhObGJDc21ieGhFRmVNNGRsaUQ3aThfNzVWdDQ5N21MMlJFWXB3Nm1XWWNQWHdULTVKWkFTUVlBNUxKRHMyNWcyZ0hPaVlWdUxwNkhrNkRfdnZ1ZUl5Q1NMOS1MWEdjaGxXcllOYUllUXZscUE3SU11ZlFKOUZISHoyNUNBUnFMWXl2OGFjMVIxaktCZm41WWtZSjBzOEJfcWZxbk9scXN6bUVNNkpZcEpRblVHa2ktQ0U3eVhCRTg3bEduOERmM19ROWx1MHl6Sl9UMmUxWDRNb0NDUjRpOWhOTG9ZSVp0a2Q1RTFLVXBMZWptczAxb1JUOEkzWmpkOFRGaHpoYkRLSmdONXRWaXZOUTI2dXRtOG00dE9RYkV6YVQ1bmxOc21CeEs3QVg4dDdDbVZNMW01Q1liSHhmX0NtUzRUcm4xS3Z3d0Q5ZnhhNURLNjk3bGZ1VWVmOXVkRDU1ZU5mckk4cDNBTkNNb2UySTJ6Znc3eF9sbEdzUGZPVENzZlRTZ1BvTTlUSENoWGZueGxxTkdieDVEZjFjUFM5MVZaWXZid2Zaa0phSlliQnpMd2F3M2xNaE05QzlDdnV3aU1DZWp1dXo5dGNvak5lR3FrMUltWjlMLUkxSzVQNFlacnRDbDNxTlZXZDZCLWIwVFdDaldFai1reGp5TmZxQlR0dGQtT2VsclZBcnpQWEo0aVl2UFRZNW9sY00xOFNNUXVsUFYxdmkydnd3NFlnLVZGaV9lTWtpRjEtSVd2bUU5ZW1OS0kyRkZBUVZHU3BCdmRvdklqTWtRazRZZXc1bjJacUJUTGUwMlJjWlgwU2FiUkM3Q0RZQ0dJdHQxTEprcEtETU81ODdtLUhxSlU0THdFVldDMmdZQTQzamcza01rX3dEQ2NuMERVSEZINFZXdHNxSVlON1JySXloR1RmOTRvNldDRGhFVTFMZEtLSElOZWFZbEg1MVh4OHFoTW1wVy1xYXNIOFNUaFVzZGxWNF9yWFRZVUs2LVV0QXU2MUNzT2pfR0ZJcXpaVEttdmhXNzhtUnpIWVQzOVdqV2s1Ti15TVpvSzlHNGdSYUpYdUJYc0E5R3dqTXdTTHdqNDl3c0ZuRTh2N2tOWFNwaTBDQU9rQnNBRURYT283anBFdlZlWTVDUGp5U19xTFhIZjUybFQwVy1rVHlVcEg4cWdaLUlnR2lGWU1oZENaWmlCQWNya2hLUnpaR3JQcF9ZLTRCeTFnbEp5TEMtamdYUElybmZMdXAwYXE0Z2ZWSXFzRXFWWFpMcnNpWGJlX0VuTWpYbHdzYXZNdzlrV3A2bGU0WGtHRFFWdG16VmREbUhVSW9FOXRaMW1fNHdxTWFCbC1hcHFmWFhwc1piQXRlUUpISjRhbVZ5SVVCanF2bHhCZDhVNWFZcjdWbEdxakk5VVhoOExQR3NVc3FYRnlMdE9qc1dOdTBnQjl0Y3lyYTFiV2luUk95Uy14Y2NpbnpKT2F6YUdmTWlYeFE1SThrdGNGVjQ0WG89)
        GOOGLE: Encrypted(Z0FBQUFBQmg2bU83ZmtFQnNNdVp3bjh6SUo1UmhRaUhYa3lwTTliYnBndXFjQ3JwRXh2Ylp5ZWZTN1lvaEhGcGtpTGVjT09sRk1OdE5zQ2lGWDY3R1lpd1AyRzFhU3R4a3hfdjYyb2NlZ05WNzdwTWZZR2tYbXMyRm9Na294Vkg1d1VrRkVuN2lfZnRqcE5Ec2JmNUswLXE2Z2J6bExFSHp4U2JNSnBnS1FpZFc2Z2gwX21LNFJlS0M0d2pWR1VtUGhxVTl4SEVmZGJGQ3pZWmNZd1oyQThoeDBGdzdaT0hMQmdLdEpfNFBGNkoyRFU3bF9tOUlEUGowNHBfYjVXcDEwTHc5M1dOZ3NHRkZ1Q2xIdWJnVWZaQUVjc3UydXA0d0dFM1d3V01xbnBvclliTGotX1MxQndNVFhBckdWU3NqN1FuWlZWcS1wOWhMcTRQbU1WSnZhNzBXNVotTm1KVjhHMEZKMlRDZXRuaDRyVkk5LVlMM21LajlpQWFWSlJzczVkcDJDTzF3Ty1xZzUxRHBuSlNKSkRYdW9SbXhLRThXQmZDbnVSVjFkWVYxTjNhUk9BSThWNjRsbml4eHY5Unpvczdvd0MtaGd6VExBUE1mUXR6X2d4WG4tYUtsZnFWMlNDN3lZX2xmbG9GRk41VS1wSTRIWlM2aWJpRVJ2UXFYY0s0N2lET2t2SGpBZEVDY013QkJWZlpJZlNlV0NCZThUaWNiTkJScWZuVWJCUGpGdDY0ME1DRVdxZXB5Qjg0d0tlLU55TjNmeExIWXNIaTBYbEdsWmNXMXRwaE9DOWZoNlFuZU5Vc09GSzMwV3J5NE53TzVfTjM4dmRyVy1iNnFPckFrYno1UEsyMkdybHJheVduYlEzVHIyQ1FVYnhIajBkYjBhUEZINnZwSXBUWGZwVllSNlB0Vm9xRFdYdXAxbnY0QU9EUnZxLWJ0cnBIMTVRbUFhejJrT3FDNWtUNjJWOU5jdy1jQnE3VE9FSF9GS2VUZl92WElwUjZEU05xUXIzZm0zQ1hnY1dDOWlzV3ZkTzBGbmY0YXFnWFNqbHhpd3hJZUFzaW0xUk5tS3lWSGN3WjQ4XzdUcEZveDNsYXpwWENjeEhSUnotaDZpZHJ5NG9nczlrWEQtVjZHbjVyekVHb2JHRHhVcE5YTHNGcElZcFF0d2pkWHNpSnQxb1NQQnlDQUl3QTU0cmF3U3lwNVVDaVkxaktQMnRtcUdsejhlLVhkMU1YYm5GQ1J2aXdCN1VHUDN6ZS1ZRlp3a2U3VjlaSDloci1wZ0hCMHB3N2JEQzJWTVdFWGd4TllDTWVqUVpvYnRKd3E3T1BLeXdZdVpwTVhjVVVKeVpJTFZwWER2czdJaXJBemQwb2haSkdTYUVUZHROZkVMVEUtRktkaFg5VHI4dmtJNzc3Y3doMjdCWnA3Y1QwdGpWMVNYbnFNZzFQR2N4RTZSZmZzOERVWHRFRnJhVTIxUWJjWTI4cEx5N2JZVS04UUduZVJsbldtSHlVUmVqdzBsbmQ4TjcxdlhfRlVKZU5xMDRQb055T2d4WTRNRmlLN2pkRnlld1lkN2syTTh4ZEhJUEd5WFYzUGgxRkhhMkJqZjhWVEg1TWF6Mnl0ZUFZN2dWendMSFJaU1dzSFd3VVhKTnh4dElROG8zRVR1d3hINEZNbXFzbktUNE5xQ0tMRnozWGpac2F1OUhqWDVkenZ0WEgwOE1mRVgxdGs4YkZrekVxcEFKX19MVmtOWUhNSmFpNWtGQmc4Z3gzczRmY0lkT0plUGJWdm5UajZac1F0Z0tq)
        FIREBASE_TOKEN: Encrypted(Z0FBQUFBQmg2bU83THB2MkpFWUlleFhEd1VwSmEtQTFwS1NzYzBOSjBKODZXWDcwdHRvZURYQ2t2dXlRbkk4RzFnaFlrVFRKcE5rRjRJZExrdDVIV0Z0c2dCNkMyam1MQzFhcE5UZVg5WF9oWTR4UzlJQU52eHlBUGN4TWN4UlZiMHZOMXZEXzkyeE12VFlFSU9fX2twYlpxTzRTZXk0Z2tEWVBNVFpFNTVGcUlrRzR2UzBvUHJGN1FERlJKQmNEMVM1Nnp0OW9yeVNXSURSY08tRzhOSjMxZFZhQzdGM0x4QT09)
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmg2bU83MDBlUlVBazQwV0RRdjVTZGFfSkstTDZ2MFFTZVZRdWIwOEthOWExV0FVeG9VRlA2RGtSTFVsMk1BUmt0MG9lT2RvZjE4eW9ZLXptaWlhVGN5YWtpWlZDeVlXWGdGWFZDTVhDZFhyVXd5cE8xQVFFMHFWeUxKcjVKSjJBdGcybzFBSEtYUVppMUZTT3hZMXZPR0N5eXdELUlRN2Zzb2hONmd4LVpwY0ctMUZCM1R3emxDVFVWU0JZb002MUtlY2ctbUpBZmVZejlBNm0wVnNldE94dWVhblVfWTBSMTlLNzBjUnVCcUVYdEp5M3pmTUtSejJuYzFVeG1IcEVxMHpFaU9yTTFRRThDTDF4SGZya1JXS2RGazZpQ1B1R3AzS3BaVFBXX2Z3ZVBmT3l6OV9COTFLbmp2d2lqVGwzNWtPYVpVYkVDVjd1cWlsZW9BWE1KTDV2MzM4VHVudEo5ckpwb3NFNVBiZ2prVHJHRHVXMkNxcXlpV3lRV3V4MWtjZ0haekQ1bEY5eWVjeU9ZYTdocWhHZlR6UmlpSUJhbkljdldsZXl3dno1Y2hTQWVFNmJxZXp2NGdPWmNhVzN0WXNHbTBvTUpXTTV2d2hZbTFaN0ZrUG5TU2FuSTNnX01FaDhrd3VPYnFmRDVmOHk0WWo5WDctVVBqVy1wMDRJS2lMV0d1UmpVZHlOT0dTZzd4bVh3b3p2VG5ldXVCWVVLb0tLRUw4dGk5a3VoNU1SNTRrRnpNNk5nZXRwRVJkWUIzMWJaM0Fvd1dWUXJYUW9mY1N5Ym9jUnF4XzNZQk9tdW1ZSHNPVGdxcE04Q3VsV2x0RDFiaGR6dkxDdlZmSlBMdFFuR2VkWGR6bHpXQ2hIbUJLSGVCbFo2YTNNMVlDZGVjUlRJcGhQYTdvblFpRElKNFhHUERFOThVZlliNmliYWVndGxzNXBqR0ZJR3NCakZjT3B3ZF9sZFV1Y2kwR1RJcDJWV1ByTU5hellkQTFOTXppTTA0RHVBVEl1ZldSOVRsUlVDZndPM2Q2ZHZ0QVJ0NGJGWHIxOG4wMUk5M1k3UFZ2NHBfT1dxMGNqWDZKVVJQcG5vQXNDODVtYjdWM3poNjBSUWpnNW9wRWk2Z3Jiekc5TkdRREI0QUZkdlc1VUZCZmpVLXA5QkpfaUpmdXhIdmh4OGF2cWJZWmlQR0N5cnp1Wm9UdE9yM1ZYUmZHQ19RLVgxdjZNaWZjRVEyU0pxVVVMOUNqY2lBSGN3dlBBT2kwNFl3YndzWHFfTFdzbnAxSC13dEpjN1ZyMGtCdjVMZ19XOFNyY1R1ejlZLTc1V3ptbGVPSGRkOVI3WDBwcERHVDhZMlR3NjRyU1p2NFpFM21QWnh1b0FTbWtneldxbF9BekFxTXhkRmNmU19Eem1jUEdOczFTVTJDanVKeVVHVnBfTFhuZGlGSVNxSEZQaDBHZXdiUXBKWkFlUWkyRkdFOWRGT0I1UV9VbE9HQmdvcEMtaGR0MzFKRW02R1ZGUTZRdUhRbzd4SUpFVTVrRFM1M0o2Tm5WM1ZSVWdndHNGZHVLMVNOYldZQTQyR3VrYzR1NERoVlR3QllPek1VQ3U0YmRpblV5VWdrazR6c3hUZVpTZEVCWUJyQVRUOUJtY1VDUmt2cjdVNFNVRUZzNVRjVDc2TktjX0ZNa2I2Vy1ZX09MNHZ5U0g5R0lkMjljWGVNVlVfcTlLODgycVlxSm1wRDRDNXJmeE9uV2hCUEg0dzhzUGV2RU41M29oenVKR3ZMNUNWZEhNR21PdVFrTmtTNzVDR3pyMnNEY1ZVWFRya0dGYUdsZlJTdHVpV3RMTHZCVXJIVmgyd0VTWFB1QzdwSVNZYkJnZkI5NXQxTjBYWTYzMVZVUmkzcEhCT0VIR0NPQW1jeWt0RW5HQ0pBVGxfZHNtcnIzM1RmVER2NERKeTVCeWp0Q2UwVXA4bnE2aGhFNDZSWUJxTDBYcFppTVBQeWhvQXpoMW42MEh1UnVMM0prTnRlSEZQVkxVRjhfUDVwTkRvT2UzTHh6Rk9Bblp6YmVUc05Vc1pUTmNzMG9vbWtSSHFaczNiMUFTT3F1U3ZtUWhvV1FjOWZOSzF4S2g1Mlp2XzkyVDFQVHl3dGt1WHFFbGRwRmVlUnR3Z2xobmFBQkdSMkc3VFFNbm9uZnhtQXFrbWEyTVZMcC1JMWVwLU1IU3h0b3hiN0tyaWNNdl9XSzVGajdpTlRjb21NS1ZmUkp2cWluRnVzNF9yaFdBNl9CZl9QNmpDbnc3a203X2pUa2J3eWVpN0h5bHZHMXpaZFVQQ3U0QlhLbjA0MzNzYThyM1hfWUQxVjVVd3lrSVBGWmhkMF9GQlhFMngyMld3dFgzamc1RmtxRzlOVkJyZ0V3RWxuWEtuLW02czRBZTBzZlU5TjlFTUx2aTZ1dFdwZjZmeGg0WUlOSUIyTUo0aXFsVWRSbUhxSG1ObjRkV201ckN3RjhXQ1p1Nk5nOTRlMzFDVlJCUFR6TTdGV3JnYjhOWE9BeXBOaEhVT1ZMbnVsTzlHUDBDS0dQZ3VOMmJveFNmNnpnR1ZZQjRJN1lTTS1uNXVxX29BcU84YVE3MnNmTHJtU0FFVGxyS3FPWHJReDd0QW9jR0FtT0NDV05tWFZ4LWVkbXU3RFV2NnRJLUIxaEN4VThkOFltdEw4NlY3dkVmZ251SXpLOE13NW1YX0wyTGowSDB3WUlOTjM1bHRTN21EODd1WUtYbUhXb290NjEtMVpBTjVmWjJ6QmltQmc0Z25oZkxLOHJBNFFNWmZxWnFLU1UzYkktVF81cDgwaUItaGhYOUNJVERIQXJsemlORXV4b29MMmllNXB1eGJqOElubFpmWWp0ZkhsTC1rLXpOQ0Y4T3otdEw3NTFxSTBIaHF5NlR0LWtlaWdWS1BDZ3NTU0hpaTN0LXZqV2RMbWRWTFpleTU0ejlsSTVWOHdTMmx1eUVEV0w4RHNpZkRqWXlraWhyeHJoYjVNUERLc2NVT2FwX2JSVmxZOEY5TDVvVmxUMFhDQUl4d1FrUDhUOE1haThIaEl5V3hOU1J1WWFYcVdTTW1oT3hvOHcyZHFBUjhDWU90QUxHWmVXajRDWk0yLXhOTy13LWtGZElUWUtQMXdxVC14SzZpLWlwdWlzdHRfX0ZQaEpTRC1WTTJRbkE5S1VIQm9CNVVTUzZUTzBKaUJmcGlyMFZhOXRNdzBJT1UzQlNqaS1vSE1JdVpSTzZMMXMxeXpUYXgwUUgzQ3U2aXh0dWhjM20xRWRBaGFiemowamxaSjhIZTF3QTFncnhKOWRvckxNcXRrNmpUTEF5UndJbk1ybmNINnpUYmVXYlFuRlBXWjBWQ2ZqeC04WnJBU25oeUVobk9GcE5OMWMzbkVfSkpUWldJQXpyR2wwZ2Q4RXQ4emxPeVZUai1RRTNxZmlsa1hBZG9pTF9odG9OcWJHRW13NFNvTGtKV2d3Nl9CZ1Rnd3FnMVdScUNJY2NidWtJb1FCcjFrVUdhb1ZBbUJhQ1JUTnljcGdRNGFPdXdPMG84WXVPTG1uTWxpYlg0VWhzYkF3VHdYS0dKT1NzaVJ2M1lnZzdBSmVXVko4Y1REa1FhdzJRa29VcXl5R2x6bUIwdklJTWJlSjZfMHhha0tSWVp5Zy01T0NRUGdNLUk1WE1CTkllaHVQZjNiUEhPajQ5bWRobk15d0RWSUVaNTdsZzV6ZEE4clRLdFZhWHRnWW1qM3dGeV9iQzRmbFVLSTc4aEQzWnppNmMtWm9HSi1JSlRNMlRFMWQyQ25iUGtRUWRCLU1RaTdOQmRxc2JPaHg4cnlrZXlMVFV0N1Y3QXcxSms0Nm9mMENvblVLTzNjVFJRbTg2dkFkYzJKRFo4SlFpYTFDbVZmb0lfck1zSUhZaHdQeXFEMl9PalZkYTNJcVJ3TURoaEJxYUlRNUZQakk2LVd2RjNnNDZ5Yi1zZnkwbTFNVjYwNDFVYkxBTTBoUDVQbkx5VFE1R2Y0eGtsZlBEV3hyYXp6OGVsNVJsT3N5c0psNEdvbkRMSUY5czBmeUtnNWpDVGpYekhKMkg4YUlhc085NE5YQktYNEtrRW5hRjJWYW9NNXFaOENaYm1SVXl1OFRiQUd5a3FuYjVWTGJENlJvYVlkNjNVMkdVMDg5dVIwY0JtWlJDaTBMMXFSWThZaU03eFUxZHNyMDRCOFp0cUZMNUxteE5Vc2FxajlKZXdfanB4cVpqU21TQy1Ib2RxSVh2SHV6RnZ1U1B4MUxab3FkenVoNkRiUllXT2twWU9OZEE4QW42cDJ0YVNrZl8yclpGYnBvS3RQMzNvSWZnT1FncURuOEQ4YmtvTi1BZmNxR2ZNeHkzTGU1V0UxNFRDdXRmUkxhZ2szdHpPNDQxWEp4RjJqeXFmWEtEUDBWSVhsMGVGVEdRZWdUVnloYktldkU0ZUhJRW9icW40eWhnT2NWVlhadUtVYlpudUs1cmJvcWltbVJ6bTlLWERDeFprQ0pkOUpBbzB1WWZDbHdsS1BsWDU0T1NaMUV4RXR1M2ZmUnNrcUdINnV0Y1ZjN05WbHpSSXlOV0ZkMHBfSkdHVGxjMmVOWUNFbk5aUG5hYjVSTlpZSzBNcTU3RXJJa0d3SHVEQVJBbW1KYnlySjE2VW8yd2xXWGQyOUhRdDRGSGhPamdPb1dxUlN1cTJLMlNmNlF3VEk1N2JUZlJxMy03LXEwSlkyU0J0VUtabFU2V0YtRjJGaWRwRW02LUtuQTZMbWl0dTNhOS1KVktkLTZOeWcyTldxcUZCZExDUEJsOUJiYmVhMGRVT1VvOUhUdkZfVzBnX09zRFdHNVRWRm9KR0xUM1ZvYzVZLTZ5b2FjWTBjZXAwa1RFRkJPczdKdGsxa3d6RmRIcV9uMFNmT0QyX3RzSG1fUmFLVEs2d2k1Q1l3OHNGb3ktZ3ZFeDFrcVNzNHZ4T0Rnc2k1TDVJeEZSUzg3XzhWUEg0NDlkSTh5N09vQkptQ09tdzhuRzVxWmhQWVlOZmk4MFpBaVE1M2RvWUlKamcwUkltYlBwMmZEc1hKS3o5b2lWdmt0Q3pBSFo2UGxTTmxCM04zcG1fTFRvSmI4Vm0zblRaQ2hWSzZvbGhreGxEcVkzanZOcWU2Y3c1Wlh4TEJaY2VYR3dwX201dlo3WktPRWlXbGFHQk5KeDhXeGNHOUVQTHRlamM5Vk1vb0htZEpZSUMzbGtQY0U4eWFPYTRBRjFQZGh0QW5uSi1lZFRhMHZoVmJXTkdXNmhMTmQ1bEVQTXZ2ZzJUUEYycFQwWGhlMVNKenJhZzNJaFJEWDZtQXFNN2l1QjRYNENlNkF2WWJaU0dMdklCY3NmczV2YTlTVEV6XzRkaW03T0lpTTk2UFZJRnFVWTlGVkRBQT09)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmg2bU83SzBZOEdrSU9fZEhNUFB6YkRlWDZkX3AySHZrZ0pjRVpnQzdTX0JoSzdiQ0xUQ3Y3Qi1ELThlVUFpWlEzRU9UdGEtNGNsTnJYOFYyU0xjNkVYSlM2VWc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmg2bU83Tmx5cWFPTDRBNUNMdVZvM3Y4bDhiajh3VGFBSjZyTFExUEhjRU9qaTlySEhIQWhLd3l6ekY5YnpWRHJiSjg3U2drajNHUDdtN25PaE8xcnAxM3RuaEE9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmg2bU83V3doVE9mOGlwRG1sQlI2TUdidDl3WFVRVXlxTlV6SS11SWxmaG9VY3N5QWpLUGxDclhYclJNMlRGVWtEOTJwOWExSnpCS192by1icGJRWjRvSkdVZUE9PQ==)
      flutter: 2.8.1
      xcode: '13.2'
      cocoapods: 1.11.2
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: develop
          include: true
          source: false
        - pattern: master
          include: false
          source: false
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - |
        echo $ENV | base64 --decode > $FCI_BUILD_DIR/.env
        echo $GOOGLE | base64 --decode > $FCI_BUILD_DIR/ios/Runner/output.json
        plutil -convert xml1 $FCI_BUILD_DIR/ios/Runner/output.json -o $FCI_BUILD_DIR/ios/Runner/GoogleService-info.plist
        rm $FCI_BUILD_DIR/ios/Runner/output.json
        cd ios
        rm -rf Podfile.lock
        pod install --repo-update
        ./gradlew assembleDebug
        flutter clean
      - flutter build appbundle --debug -t lib/env/production.dart --verbose
      - |
        # generate signed universal apk with user specified keys
        android-app-bundle build-universal-apk \
          --bundle build/**/outputs/**/*.aab \
          --ks /tmp/keystore.keystore \
          --ks-pass $FCI_KEYSTORE_PASSWORD \
          --ks-key-alias $FCI_KEY_ALIAS \
          --key-pass $FCI_KEY_PASSWORD
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - jstache@tutanota.com
          - mustache40@gmail.com
      firebase:
        firebase_token: $FIREBASE_TOKEN
        android:
          app_id: 1:493864449137:android:75b0b25472f222c95057d0
          groups:
            - me
