# Automatically generated on 2022-01-21 UTC from https://codemagic.io/app/609f571800a2d305209fe46d/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        ENV: Encrypted(Z0FBQUFBQmg2bVo4Z0tmb21xa2hjd1NnTGxUdGVxSTROSkIxRmpST0VEQWVQSnB3eTZ5ekJvSl9wVjhodV9JSWtXeGphd2E2eHlQNHlERE52akFnU2o0VlN5cXAtaDNZSVljWFFRbjFHZDBya0tfRkZXeThlT3dBa3p4NnpjTUpuNUxkdE5YbUJBVktyZjNyYXVxcE95ZGU1LTBCakxOTUFVRjhldnhqOUFfUnVOUm9YZUVkQnRWVmRINUljakFjOTM0MmZ5UUJWb09ud3NpOTB3SmNkdmc0VnRYWVdncGNZdVpBVTRxNFNHT1BoWnFUcmNFTlBJWENueWFfRXFLSmdmUDdhbTFZVzhFM3RUcHZQajJOOWN2UlhzcGZfdHYtT3lTZmRNSzJCR05SVV9ZNkxMU0dRSEtiSEp5T2ZMbzRuV1d0WDV5N2VvVlE5U18taHR1MDVTejdxNlRfb2JYT0pnQXFSa3BUQWUwYVZXdzE1VHR0Qm9SMnV2NXQ5QkhMeC1uY2tuZDNOQ0VEb0E4ejNaUF9IeDdKYVJtNElLdWxkTXd6RHg2RF81WFdia01FZExUSUlPODVvV0FFbU1VN1NhNlgtcnFxRmdXZDlDQlRLZUY4eGJuN0JvVTNGMHVTNFpESjJ4UEM0RGhycXgwZno0M0hNLW9DVDIzdG5CVFhMbDJ1SHVTa2Ria0g1bFRBdGFGaDZud25zTDZ4UnlSclZlTFRjZUFLckhVOFBFVVNSNktrSXY2Qk0wTzFRSi1vS2dLV2YxMVRxNm9lUDJFcUtpRi1ONDMyU1RITFdIN0loendYZ09tcjM3cnZ4elpnQnRvLXZRZVZxX2dJTUE1dzJvbDV1UWFEa2kwRVZsXy1qUDFJVVBLUTRHZTd4WS1IcnpKMndMNDNSTW5vcTYwWUdFd2phYmc3Y1N6OUlncmJTMVNRQ3hjZFJyYVJHNzM2cU1hREJ6OUVUT05IYWN1djduYlZEOEFJRklZU3ZmQ29RRGJxUGFDLUt5VUlJM1dGY09SWlhBWVhac25nX2o5bUYxcXdvTzJPeHA1SFRCS1Q2bzc3YVJicnhGWU8teDBzS01YWGxIVmZ1X0FCQjFLS1otVHZSUU9JNmVWNUVBcm9qWUduYUdIMHZlSl9JQllMZS0tWWFkNWdYUnltNVFIQ1hMRW9tUXZ4cnh4dnNoWmszRDk0YmJidV91UkpMazltNVZwX21ZMnZFLVV6NldHc1Q2Y19vU3BwcUVWRFJGVHVKb0oxZU1GRXlLY29sNF9NQThfbkJ3Tkp1TXJCRWJ0Z0IzYjJqeF9VVzRYUUxRbGI4RmV0SnFKS0gwRDdtLWthaU5kQWwtMVRtSVlRazBKQVBlWHYxN1poZXRyX1dCR0M5a1pFRVpHMUk1SUFIYXJMeTY0dlg2c3M4aHhhM19ic0Z5MTFuemI3WUhoZi1ibG1FLWNUMldjZ0dUMVRuR3E4eDlvTTVTVk1PeVB3ZEc5SVdYQXZHRm8ybWxXWlUwcUlnajR2MjhaUnUxM2RqTWZzZkphckI0UzJ1b0JTNnM5bGRmeXlRTHRqSEViWlJLVWdFdDg2cUhXdk9leGNFUHJYMDltaXhKa3YwbzlRbEhfRlN0a1o2M1QzNVBTQWNjRGpHaEozZi11dzlRem5TeF95U3duLWtCc3I4VWZZTS1ZNTJKRUtGak5rRXVCeVN0MmllaFZsV2kzNHdSYTdYazg1bGNBMDY2SzdYaFFLYm5VREpnaDR0QkhXS1NsSWNXY0QwQ0J6aHFCTThjWXAzUEFfYkpYb2p1TlpPVHFZUWNGQWRtZnFmQlF1aUV2RnFiOFZuWWl3VnJRRlRLTXlFYzJURjF6aHpPNWtrcC1zblJOeWMwZmZaSjFtRzcyMV9sRUpNRmVHSVFlTlNsT1JtWHkxc2dzVFpJT0VhckVGNG1YS0FTdHhpdzBNZEQyQThvVkczcW9TTElobjFmLTdpc3hqamtZV29UX25QcGxhZnNUWTB2NUJsRDZfM3cydUxoVm9PSGRuVW5zZ2IzSnA3NTJ6WGoyUXRHaC1KTGl1T2hzUS1qQS1kWXZic2lLd1had2lpWXoyZTJCMDMwRmxrcDF5UXlEd003Z3RmNHVjQnlQdlNvNmVkQWlNUEhmWmJFRlhyeTl5ajJLX3FaX0FtNkNQZkFWWHlDYUlPQXV4ZGNHVUlLaDFoZjFmSDZRMU1kOTQ4WjdlU2FnTWstVk9sOWg4bV9TOXB2eE1hZElxajZfR3V6bU0wdW4xTUp2R0N1c1JieVBTS3FXWHpMSDFoSzVkMFlzM05yMFhKUFY4ZmdFRFc1ekhRR2xEU3RVMFhucjNqWTM5a2J2ell5Z3Zib3ZNelV3dmRGVVF5UWFPNmNkNVk0ZmdlRzBuYlg5T0xCM1B2U21QbkY2WWNOaXJOYVNOZGpobnJubXprbnBlU1BNcnRmYUtIeDR5LWd0NGpGOGFSdkgzTW0yQjdJZUtLYldjdC1MS05VOFpyT091ejNlbVpHajhSV3Jpb1BvV0taRUYtZ1cxbnpDZV8xcHhXRkZXRVYxZFEzUjdZandCZ1RTUDFPT0pYQ2NJdkhZaWcyMGdGeDR4S2lyN0pfS2R0TTlpdXliNjhJWEw4NVRqYzZFaFUwWUg5eTJkTDQ0MjlSa2Q3dXB1dFp4TjA4TG1SVkJSdkVOeHFWbWlJdWVsNFNfVVBLTGhLS2t0a3ZsOEZhVHJDWjVlNEdnVjRFRUprU3dRRFNvckpzd0tYajhEb1VEYlZSUDMyMmtsejVyNFJpUlhJZS1WdmgtNTRKMFJyQU9STVVNOVFVcmtuUFJGbjBmM2tlb0dJMVMyVWxpejdPcW5sLWtPY1l2N3dfQTJPc2ljekFIM0o1aEJUSjhqMlg0TXp5cXpCaUtxOFRESHZjWll1SzVyeEZMVFRFRlJ3eDB5a2hoMnFoeW1FU0F0NzhqZ0lkZ3dfOTIzeUNEQjA5WXRBMG9hZURwZTZyNW1MQk1oTVVjV0V3UGFHdm1TWmVVLURubXpkMDJvMzY2SE9JbWpiZ2VrM0lDYzB2dUV5bFpFMFdaVlJJUVJEX2VRMExLaVdOMG9IcTVwT3d2LWN6WW9JVmtuZllMc0ZoMExxSV9PRFdyNEw1emw5ZVhUT2JLMVBDM2VNb2VFTWNfUkZXb0FCZkJmTFN2X2RhTTdwODRJT1FrMHBTcm14dFdWbGJDbTdtNmo4YVBiaVRzLWlzS3ZfMnlNbllFMFlDV08zM3NjMlY3SjJhUG9wWWx5QUpsSXlEZm5ULVRQQ3NUdW94alBpc18xVXRFWk44S2tRVjVIcXN2dkRYZ3VBTlkxZGEwRGpzV3dBWWw2OWhEcUkwemZKT0xMZWliMmhYWkNWTDAyR0VrRnBlZjNNTmtJM291MTZ0X2xuY2tGRVpZblgySDZBZ0R6SFk0Uk5JOGp4M2xvSURORFlyRkpONXhJMDdhLUNsV0FJdzZiYnNHdS1qdTJQSWdNQWtVQlROb0dLTUtNT0xkbXZ0MW9nT0pWeEhQOEtkaWQtZGRQRG5OdVg0YW1nLXRWRE1MSDNPTUlMS3V1YzB5bEdEaVRzNTJOLS1BZzNqQVhsRUgtU0ZpbnVDaXh5V2lma0lqampwQlRYMzhSRWI2bDdCX1RtWmREY2ZZNkZiQWZWUXpGcjUwcmFQNm90YmNTSktYM0R2SW1jc3BYbWloOG9kY0w3ZzJuZGVqTDA4d3ZJTkJJNzh3anhLeGJOd0FSci1udm9YZE55WlBEbEdzTlhIZjNYbzA3UVU5eThpcHo3SGpNMU9JS0ltVVdnV1BRdkhMLVZQYl84VlVSSDVDM3lscjFxa1dQcE4zVzZSRE56d0NFcFNkbkxWQndGTHBsc3dkNVNSSGhfbFNhSW5Fb2ZLWHN0Nlo1WGhOS2dvNVRDczMxN3VJRWh6WVVRLUZxOFdWSEZTNHA4MmdlOFlaSldUUUVkN2c5NGRMcHQ0WEJKQ2M9)
        GOOGLE: Encrypted(Z0FBQUFBQmg2bVo5Qm9mVTk3RUpUbWhtRjZ4b0EyOU03dFN2YWoyV2NXcUswZGd1N2hVN3V3RlBxUUNxdXMxSlR5T2VyN1h6dHhSNjF5Q0YzeWdDeEd0U1FRdGZ3Mk1wdjJ1YlhvS1F6ZUVvTHhaOWtiZTRDR1lWeTBEN1VhTjF6M3ptcjdlVVlnTnQ5TDFUbzAtTVI5Sms1dzIwU1Nnc01oRXdBYW9rZ3pCVzRaeTJfRDRXd1YzNGZFTlRodDB4RnoyMzROeHhnVGhsYThqVkFyOTkyWVZGWHNEN0xydjRJcEJMeURjME9zZUNhVC0zVFR3Nmh0cFZUcDVOYTVjRTJXanItclNjUDJZbHRQT1FIb09ZYzlnQ3JIU2o5TkVYSk9EWWVOX1UxWVJhbWFhdFNFd3pKYjQ2WVFoSjluVWI1dE1JMTB4NlFUNlNGY1Uzel83Rm5fS0x1WEdUMlprZXJZQ0oxR0l2UlhWSFl5aGpNUmpZd1Y4QllwQTVQaU9hdW9RNDVUNnRVWkhlT1N4MTZIdzlYQTh6Zy1WNVA1MTlacmtWaWFjeVpfeVlKVDhleEJtQ3ozOHRoOTVfX0FvOEo1ZHBwZEJubEVTVk9iSjBtY0FPTWJqeExVck1aRTZac0ZMb2FYRXVfLUNiM3hLYmx6TXhiSUprYkctNFk5bUdTWEp2LUFkdWMyNEFlMFk1Yk1xanMwWG9lYUQ5d0FlQWlBS0pKV01sWDM4b2xXeTdqREFDS0VoY3VnczJ6TS1GUlZ1ZDVTSEJIRE1uMGFxUjhFSDVXV1JTWlNNQWJlSWY2MTM3cFBGXzV2VXRROFh0VGcxTFBPZnRQOGtKSW80M1VGSkpnLUxiSGJDLUdlQVZRX0xncHJOemNMVk1xOU5Cd2phM1FUbnU0Ui1xX3liaE9OWHRtWVV4eG9TSldzZzlnX3hWcjdpdTVGcGRKaFpjUHpoYXlVS2NrZ3d6c3dBbkNSaThCM0VZbHBMVEpYWWFtVVYwVWx4eEQ3RmZtRE5BMW9WaFc0c3ZjczJaOE1LelBmelR3Q25YaVpaUmt0OGxYNFZnaE00S2tvTUFFRW1aeHdINTRfdl9ud0RHZXhhZHZyVDM0eVRyeDJWdzNNdUg4ZjZRcmdzcTJFTWxZZkhqVVplamtMMzZOTFIyLVdvNWRUaGwwRXZxLWt1cFE0Q2c1V1ZOQ2JBbGotOVlTTk9acjhUbkM0WkVLUDNWR19LbTZCQndOV0ZlWHoyRGU1Z0xyV3ZYZW9RZzkxODBYUFVfeTVDWG56T2N1WkQwbXRGNnE4NFd2TTVVRVU1anRTQ2VlSEJqRmgtcV8xVG90ZmZHS1lzMTVabXZSX3VfN1gzYWU5aUhpb1JEdGFvTXlERGZrUEFyaUVqYXBBZ3Y5dC1WcmJDVkY4aVJiQWgxR3lDWUdUdVhmNE1oVDVyUjYyRVZSdjMyc1ZYSVBRRnpROWxuZmFxU2FGcFN3cjdPSmlUNi1jWmNNUEFzbVNpaGZTM2FkNzh2bktBcTN0NFhaVGYxcnh1UW0zTm5GWFJkeHFiS3N0V1FyWUNTNFdQeDUwblBaT3JudFdzMjNoV21oUk9NQ0ZzS0NReVVPTGhrVWdiVDQyLTRrZHFuRXdELThCaW1vRjVSTFM2c3NIejdhcWhaM3dhQmFoeWd3dGFIT1dTS2R3ZFNEOGtfbW5zN1JjV0d1Qk0tMjAxTjBnQ0J2aGRLM2ZvSkhWeDZ2RkxuRzJWN0RoVEsxWHVkaXRBUmJVSTBzLUo2cklYZ0d1WUI2NFdaYmF0cU10WHctR0E4)
        FIREBASE_TOKEN: Encrypted(Z0FBQUFBQmg2bVo5d2syMFNWc2xVdldFY0dUdmFyYUpRN0NoYU83QUYtT0k3cl9leHdRdHNDVTRybFZ1NVFSNmFxRVZTeUdTVHJ4MDBtZXRQVF9kSC12a2V5OC00aHltMUx5WWI2a196U2w1WXhvVFlVdm5qWWRVcDhyZHpDQ3ZqWTEzVmhHRTZxd3VVMVlOQmFxWmtvNVdBd1hrWFQ4bDlPYVNZbm4zQXlWdzM4ZnNJMTVvY0x6OTV1NG9hbFZSX0N4QjZPSzR3N3JQLWFuQkhULTEwdV9WaE1mYVhkR1UwQT09)
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmg2bVo4Ym04c3BoTjRpYVZJVnB3MDJqZ0JvV1h3a0FMN0U5WjN4cWdyUjZwZzdhaGhXS1o2eEJZaVZyU0c0amJrUzZFTEtaVERxNjdheXMyek1kbTlzTmlDMmpYM0hqQXl0c190R3g2a1VVYl9hSkFubnJ1ZU9rWTlRSWlhdEtwMzFsU3pKTlFIRWViTC1KUWkza1RSWDBRNTBQeUtuMDVZeXRQUTFuRC1vR3VpeEhwdWp4aFFfalJvM3lzVng2LVlrRUdhUmdWWGtmTFZEX2o2clVLM0NMNXg0UndPZTNmSkdFMU1XX3p0OFNjNU9MMXBXY2FVMy1pYXdEeVQyU0UxRUwxaXRnYWtXQngtWDhuZjdWdzRLeVBkX0ptSnRaeE5uaUlhVUJNcllrVWdlaGxyclRCNDgyUjZ4cnhNNDloZnlLMW1NaVkwUkQxMm82dEFxTWt1OXRBc2ZIbEtHOXl4UzR3cTNmTjBJUndTRkljLTY1aW9GNWZVQ3pTanJPN09MQkt5c3EzOTNTVi13cFFTQjRYWEVsU01OMFlGd1Jsekd2QTZPUkkza3l3bkROdTRDSERjN3pTWDVqZ3NHMVYtYjFYY0s5MDFoM3RRUmRtTi1uRzV6M2pDQWpKY18wU0pBdncwQUJwWkFiOW4tWUV4UjhlZUdQb084d1FzRzFKaDFuLUpSNzZzcXNBZ3FTM2plb1ItQ0RCNjBWWTZILThzbDZqM3lmOExOeEYwX29jYWd5RGxzanFRemJlQmstNG9GSVpfb3VHWEVkeEc4UC1KNzdYRjNnQjFPcEFRTHdQNTI2Z09ldUl1UXE3S3Fua015Sjk5eXB1b0hqLTVsejQ5ZXl6RGtaYjFXZDNNTlhPYUp4VGZBSlI3TkpoczZGNDREdWNLdlRueHVQd2xobjEyMjhicmg5SS1vX0xNQ0lPeG9QejAyUl9qNjZITmhfVTAtN1JFYmN4T2VwYkk1cV95dnRVMnc1MWFDUG1ZdWlma2dBTmdYWEI0anhTblhjdC1aMkdBQjFPang4SFViT3N4bjRBX3dhTVpWQVdxWTdqMDJyOFEwM0JmMUVGVTBpUk9Lc3AzbE1BeGNIQWFGQ3FnVl95LWpENGtJY2VOR3kyTnlWd1R0bm9WTHN1Rnl2cjVGald6U01YTlI2Tlp2dzFfNThVVk5pR3lFc0dVYmx1VmxfbjlhcWRVc1Y4aVdSOHhlRzJTVUJmX1VoWWQtcVJMRTdrUU1aTUE5bENmMDRBY3pkckZNdFpITjZxUjBLZzlfUGpacnVpeGtVMEhIeE10M0pvcjEtYWpxSWx6U0VkQWZ0SUpzLVJMSHI2amlrb2thOXkySzFKbTlXSWJOdVc3Yy1qS3NONnZ2T0F3dVllMXhpNW5fWF9Kb3RRUkhnUWVMMy05Y000a2lRR2lfRHlMeVhTNWxOdnlzdkdNZHhabXBGV1pBRUN1QUozMHFfNW1sa0NFNFc4TzR3Q0lDUDcyVGxVbzQ0bHRMNExsUzNRckg5U2hTTUxvdUMzZm0wMGlBVGVjM3JWMWlLbGRudmtfRzBicmlnS1c4aFM3dERwaTRNa1NEeHNXUWFGWEN4RUMtM0hxLUw3QjZPUkFFUW91b0E2bWdOZ18zOTJlS0JjcEZmengxUVoteWI5LW5CX3RYb181NmNWa0xnV0xqM1pxTE1ORlRsZ3VmMjUwaGhxamVQSGxOMzhMaXRTOVFCdmV5Zk8tQ0JmTExfZjd2UU5JWFByOURjWVZNVE1DWFB6eUVZQ0g3YlhOM1pSMEhNVWFtdWJiUk9mN2ZDRmdoWjVFYlFRNVV5aXZRd1h1MHlTRGtuU09kd1BMaVdRUGR2c3F0Q0VZd1VhdmNHdlJkUkRFaVM4eXpVSTV4UWtHX3ZFblNjVFVlUUtFb3VqdE1YaG9ITXg4REZLR2RoQk5JU3lDc3ItTVdNaVhJSE9aUURUc2FjQTBtRjBpSkNQSW9vZm02ekxMY0JzVm92aXJYZml4WjVpbEJwc211cE5qMWtfM29ELWpOQ3J5S1E5cmhEYnloRmRjNzVJQjA2MTN0UFZWWWpBc21NYWJ0NF9ZR3VwV3VkQ3NOLUI2T2NQNTNXUXZCVWFteFBQQjJlVmx2alh2QUNhOWMxS1Y1cng2ZE5LQlNETDVYU2pEbldsSkxNcnVKVGpkWmVVV1hLS19zWDZaRDF6TE5HZ2tMbi14SHd0S0hteXlCQ2ViM0NKVGJFeW1nYl9iSkQ2bFU5WUdTM0swSUEyQkVrZHdlajFrTFM1RTRqbmRKWWtqRWw1RHVvdjhMSlRNM0xIUDQ1SDRYU0xJRGtOQXduMndOdjl6RE5RWWZuVTQ1NWRFbXBkcldqSUJUMVJzdjJWeHVrMzJITHpjX3VPNkZ4WTJqY1dEeTRBcWlyUENQNjl1ZHBNWHR6MkFuZEJaWkRWdHBiaXNWVlNwOHVhMUQtcnV1SFZDVGhhdFg0MzdSOU5Zem9PWXFxanE5WURDVmdzeEVlanh3WHVSVmZvOXdXNFFheTliNU15LURzd0pxU0VGXzQ2QUhqd3c1LWNjRm1WM2I0cE4zOXNqZHRVUDB1Sng4VDZLZHl1N3VrNWRwQTU3TU80WFR3WWd2aFUzekozamJLSjFibDdGUGtzZllpMlVkWGFFaFdjZEZ3OGxoUlZJR282cVFhSmNnd3YyaHVDMm9vR3d5RjAzUl9UVjhZLWl5eTVuZFotcmN6eER1VGVrTlBDN2plNVJOa05NRkRvbllBM3RPbTVxNjJyNGdkQ0lrbjBkTkJOR1ZNT290NlhJcnZBXy1jQXhXNndzUmNGRF9ldXNUb1hjQkx5ajQ4VE5tZzRuNHdoSElYcS0ycUl3VjhsWE5WeVdQVnRWNmZKQTdWd1R4MURsWWw4Y3dLUk52aVNGS2V2QW1RYmxFY09sMTd2dzlmUGdkT0R2eDBNeXdJdTFBV25RUnltNmxWZldGTzVrMVBjMmppZW82X1NNU054TnMwY0lTZ0FVelplVnFjRXExN0NNakRMUy1KSEdoWGZhVVc5N2tOVGs2Q1F6MTFkZ2ZHYmhyOEZmQTdEM2E4blRjVzFDcjVfa1dLeVJtOXpGa0xGQ0hRQXZ3MTVQZVVOV2x6ZVpDd0pfZElYQ1BNSnBtczV0cTJOUVJhLXd5bkVhWHdTQ2h5cmRHZDZzSFlWU2RVZm9zVW5OQzB2QklNa2gzMGY0Sm9KWnV4eUYteWRTNFFvVUxVRkdMZHNGYzN5bDg3Z1MyN0FnVWlYaUQ5ODd5OG1CVVFKTFNUNmFna2RQVmtnT2ozZDJUSXh2VnpZNTZNRHo0TzhCRy1PTVFpQWMzTnRfZ2hWVzFfYnFXdV9hMnJ4QjBPamZ6aUJRalFmUzAzQzV6WGdWT0Q1aWc5azFpZ0dDQ25tX3FmYURyVnRqWmhSTGdlQTdyUG5zN1FGcmFvUzA0R25HWmlqV3pJbDVlRVgwMHJQM0tSM1kySG16a1RRX2N3cmVtRVpUOGtacVVCaGo1Q3FDNUZfckhRSDVFSFg2bjM2dWZqNU9yUmJCcWxsMVYtbE8wdTlBTlZveUxxa21NLTQ3M2ZtZmZrN1lpVF9STmw1R2FndTIyemV4ZkpCWkdHLVlCYjFTX1kyVnlTTzZmM0p5Mlo4Y2RxN3BVWEpRZ290UjVlV3BaYlNFRTU2Y2kzT2VPMUxiSkFLZkFEV1pWOHlkWWJzY0FrOExpT1RxM0U4RjBzSnVHU1dac0U1Vl9jLUxabzN3czNYQ0lVTjFYclNzMVhZNFFFeUdwdG9wYlctT25tWTJZRWNNZ1dhYXNvZk0xMDNOTkF1b2RLQ2VsRTkyeHBaOWF3U25aV2JxZkZsX0lqSV9VZVpWcnpERmtmYnFOQWEwdDFfd3FuV3E5SmwyNzNCU0ZxX0tjMEhSZ1BmRUprYnJLWndMajY1eWd3Zzd6cmVJLTE2NEVEQjlaeWtyNnNFUmprc2VLOE1YekpTQTc1TjFqbk5pREFVRzhoREZFR0szTTFTMXNZYlMxUExTQk5SekVZcDhNUUowZ0V4OHpNenA1WFBzVm00bVVvc212cUdVT3QxR1FZVGJNWmRhZVViUGNRclNsUU9uUTRxQTg4c2NTWVJCWjdwNVh0RWRveFVtSS14TFozMVEzcG5CTjJpUmRRbTM1d1VGRHI1cGJqLUtodDNvVWVROFlBZjUxbDh1Wko2bktBU0pqekhlSGFaN01kRE1nd3pzcG11NVBNaTlaV0xmR3J0VGNqc3hHNGNxbUNUX25faFdPZ0dVWlNRbzd1NWd6VXZPZFF1ZVRNMzNWS0xvTFJUci0zcXV3UVFZeHlLT3lmNG1UeGx4N2dlQVkwd0ZESDNiNE9jOEZOU1daVGdEcTZBbkFycUNFSjdQTXJuMjFLdjRGenV3OGJjX0dja0ZzNEJMemxjX1pUUmg2a21nLUg1Z05nenJVa3ZWWWJ3RERzTGZjN1hxSmxXdXZfSS1jTFh6OTNOLXVaTW9kNWVCRDdRTERfcEdHakpueEk4Zmg1QkxGNUZnY0xMRzNJWV96cS1kcGVDNm4tRkI0aHlzMFp1V20wbVM5Zlk4UWJkbUFwYUZiWGpWWi1leVZaSjJKVHMtNllaTWd4a29lR0hQaEJoV3lidFppR2VtcWFnTnNRdGNhNVpfU05USmo0Rnd6dERfZHdQVTBQMlhrdlpHMm9oTDQtX0FoR2JQbXdQODEzOXh3UHhoemhzMzhIVkdfRVJPVkcwRzZ1TE10dFpvU3dqMFZybUx4X2xmYXJtX1ExY0VtbVFwa1A4UnZYYUVjaTk2R2NkOG42ZS1kbGxuRGdSbzVJNEstTDVQTFFUZXVEaE9TVnVDVEZ1R1g2WExra1llNmhMNjNJVFF3QWR3bWVBXy1fM1JIbUZ3aERVSXg2cmtYQkEwa3FLWTFMYW0ta2t1SVppTldTVXYtMVU0ci1ncmtMZ3RKNWdPT21VOGRic1RIdVoxd0I2MGUtVkp3ZUEyV0s4Uk5pamF3YWJ5alBGWTV0MHVZOGxUTDhHUkQyLVhZTWxWU0pSc0JrMGF4REhDb3pHUm54eDVGemdJMmljX1JMU2RGOEVKT2huU1FveDFkb0d5MnRrVDlkSUhjdElQeW9YTmdueHY1bDJnSzZMS3dNQXRsS2ZILTNYU2tHMFBUbnpvczFsa2xwVkZka1FwVkx5cjNpVGNDSmxTN3RHMGRvUnBGWmtGd1dlYVJhd0hLelZndmVER1ZJbXBFeWhKVzFPQ3hnTTZ6ckw4TjJON1lyaVhhazlocW9tOG1USkxEWVNvc2hVMGJQSlFnNExSN2ZDN3JXNjYzR2FUMU5NWHF4NlF2RHgxVFVWNnUzdVBQQUlMR0FXV2dLU19DMGYwRXQtYmNyckhuQT09)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmg2bVo4cGZ0aVFzRTNvOGhRMHEwNHFQdmZ6TEhzUW95RFZCb2VRYVBDdkd5MUcxMTFpN0NZcDNtSFctZEU4bVNScTdyMW5Ua1NpemxycFRPby0xd0xMdXVpMXc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmg2bVo4anVEMVNweXlxWmtXSTFSY0pNZ0ctNWM3ZzVFYUxKVDRQOFp5aU1ic3FzWkpQWkpKeGl1YkpDa2lIMTh1ZktOQWJyblp2S3p4SFRvVVI5RllHWUhDeHc9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmg2bVo4WFlzTkhabkR6dlpabDB2dXRoV3FYZFJPVUpVVG9sbE9peGZpOG9hd0QxdndQVHg2amNUTF85UlZWWmFCeHQ2d0lNNEFDbkEtV1BQMzZuWDU0MUU5TWc9PQ==)
      flutter: 2.8.1
      xcode: '13.2'
      cocoapods: 1.11.2
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: develop
          include: true
          source: false
        - pattern: master
          include: false
          source: false
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - |
        echo $ENV | base64 --decode > $FCI_BUILD_DIR/.env
        echo $GOOGLE | base64 --decode > $FCI_BUILD_DIR/ios/Runner/output.json
        plutil -convert xml1 $FCI_BUILD_DIR/ios/Runner/output.json -o $FCI_BUILD_DIR/ios/Runner/GoogleService-info.plist
        rm $FCI_BUILD_DIR/ios/Runner/output.json
        cd ios
        rm -rf Podfile.lock
        pod install --repo-update
        ./gradlew assembleDebug
        flutter clean
      - flutter build appbundle --debug -t lib/env/production.dart --verbose
      - |
        # generate signed universal apk with user specified keys
        android-app-bundle build-universal-apk \
          --bundle build/**/outputs/**/*.aab \
          --ks /tmp/keystore.keystore \
          --ks-pass $FCI_KEYSTORE_PASSWORD \
          --ks-key-alias $FCI_KEY_ALIAS \
          --key-pass $FCI_KEY_PASSWORD
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - jstache@tutanota.com
          - mustache40@gmail.com
      firebase:
        firebase_token: $FIREBASE_TOKEN
        android:
          app_id: 1:493864449137:android:75b0b25472f222c95057d0
          groups:
            - me
